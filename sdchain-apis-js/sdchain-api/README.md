<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
# SDChainAPI Reference

- [API Methods](#api-methods)
  - [connect](#connect)
  - [disconnect](#disconnect)
  - [isConnected](#isconnected)
  - [getServerInfo](#getserverinfo)
  - [getFee](#getfee)
  - [getLedger](#getledger)
  - [generateAddress](#generateaddress)
  - [getAccountInfo](#getaccountinfo)
  - [getTrustlines](#gettrustlines)
  - [getBalances](#getbalances)
  - [getSettings](#getsettings)
  - [getTransaction](#gettransaction)
  - [getTransactions](#gettransactions)
  - [getOrders](#getorders)
  - [getOrderbook](#getorderbook)
  - [preparePayment](#preparepayment)
  - [prepareTrustline](#preparetrustline)
  - [prepareOrder](#prepareorder)
  - [prepareOrderCancellation](#prepareordercancellation)
  - [prepareSettings](#preparesettings)
  - [sign](#sign)
  - [submit](#submit)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# API Methods

## connect

`connect(): Promise<void>`

Tells the SDChainAPI instance to connect to its sdchaind server.

### Parameters

This method has no parameters.

### Return Value

This method returns a promise that resolves with a void value when a connection is established.

### Example

See [Boilerplate](#boilerplate) for code sample.

## disconnect

`disconnect(): Promise<void>`

Tells the SDChainAPI instance to disconnect from its sdchaind server.

### Parameters

This method has no parameters.

### Return Value

This method returns a promise that resolves with a void value when a connection is destroyed.

### Example

See [Boilerplate](#boilerplate) for code sample

## isConnected

`isConnected(): boolean`

Checks if the SDChainAPI instance is connected to its sdchaind server.

### Parameters

This method has no parameters.

### Return Value

This method returns `true` if connected and `false` if not connected.

### Example

```javascript
return api.isConnected();
```

```json
true
```

## getServerInfo

`getServerInfo(): Promise<object>`

Get status information about the server that the SDChainAPI instance is connected to.

### Parameters

This method has no parameters.

### Return Value

This method returns a promise that resolves with an object with the following structure:

Name | Type | Description
---- | ---- | -----------
buildVersion | string | The version number of the running sdchaind version.
completeLedgers | string | Range expression indicating the sequence numbers of the ledger versions the local sdchaind has in its database. It is possible to be a disjoint sequence, e.g. “2666-5666,31266-626611”.
hostID | string | On an admin request, returns the hostname of the server running the sdchaind instance; otherwise, returns a unique four letter word.
ioLatencyMs | number | Amount of time spent waiting for I/O operations to be performed, in milliseconds. If this number is not very, very low, then the sdchaind server is probably having serious load issues.
lastClose | object | Information about the last time the server closed a ledger.
*lastClose.* convergeTimeS | number | The time it took to reach a consensus for the last ledger closing, in seconds.
*lastClose.* proposers | integer | Number of trusted validators participating in the ledger closing.
loadFactor | number | The load factor the server is currently enforcing, as a multiplier on the base transaction fee. The load factor is determined by the highest of the individual server’s load factor, cluster’s load factor, and the overall network’s load factor.
peers | integer | How many other sdchaind servers the node is currently connected to.
pubkeyNode | string | Public key used to verify this node for internal communications; this key is automatically generated by the server the first time it starts up. (If deleted, the node can just create a new pair of keys.)
serverState | string | A string indicating to what extent the server is participating in the network. 
validatedLedger | object | Information about the fully-validated ledger with the highest sequence number (the most recent).
*validatedLedger.* age | integer | The time since the ledger was closed, in seconds.
*validatedLedger.* baseFeeSda | value | Base fee
*validatedLedger.* hash | string | Unique hash for the ledger, as an uppercase hexadecimal string.
*validatedLedger.* reserveBaseSda | value | Minimum amount of SDA necessary for every account to keep in reserve.
*validatedLedger.* reserveIncSda | value | Amount of SDA added to the account reserve for each object an account is responsible for in the ledger.
*validatedLedger.* seq | integer | Identifying sequence number of this ledger version.
validationQuorum | number | Minimum number of trusted validations required in order to validate a ledger version. Some circumstances may cause the server to require more validations.
load | object | *Optional* *(Admin only)* Detailed information about the current load state of the server.
*load.* jobTypes | array\<object\> | *(Admin only)* Information about the rate of different types of jobs being performed by the server and how much time it spends on each.
*load.* threads | number | *(Admin only)* The number of threads in the server’s main job pool, performing various SDChain Network operations.
pubkeyValidator | string | *Optional* *(Admin only)* Public key used by this node to sign ledger validations.

### Example

```javascript
return api.getServerInfo().then(info => {/* ... */});
```


```json
{
	"buildVersion": "0.3.14-b",
	"completeLedgers": "1-649050",
	"hostid": "schain-core",
	"ioLatencyMs": 1,
	"lastClose": {
		"convergeTimeS": 9.999,
		"proposers": 0
	},
	"load": {
		"jobTypes": [{
			"inProgress": 1,
			"jobType": "clientCommand"
		}, {
			"jobType": "peerCommand",
			"perSecond": 4
		}],
		"threads": 6
	},
	"loadFactor": 1,
	"peers": 3,
	"pubkeyNode": "n9Kbg9hyWojfGV41srzACoSxTTR24oAMkFrLW7NdwytbYpzvP2kV",
	"pubkeyValidator": "n94wTcc61qnnHKW2JLbt5WhLx2HULS7SXpmeHcHPAvhDqx2Psidn",
	"serverState": "proposing",
	
	"uptime": 74888,
	"validatedLedger": {
		"age": 5,
		"baseFeeSda": 0.0001,
		"hash": "2774E52CE250DA08F28790956FFCE9D3C3616E81AA1BEAC5F1067B2DB5E15FD4",
		"reserveBaseSda": 0.6,
		"reserveIncSda": 0.2,
		"seq": 649050
	},
	"validationQuorum": 1
}
```


## getFee

`getFee(): Promise<string>`

Returns the estimated transaction fee for the sdchiand server the API instance is connected to.

This will use the [feeCushion parameter](#parameters) provided to the SDChainAPI constructor, or the default value of `1`.

### Parameters

Name | Type | Description
---- | ---- | -----------
cushion | number | *Optional* The fee is the product of the base fee, the `load_factor`, and this cushion. Default is provided by the `SDChainAPI` constructor's `feeCushion`.

### Return Value

This method returns a promise that resolves with a string-encoded floating point value representing the estimated fee to submit a transaction, expressed in SDA.

### Example

```javascript
return api.getFee().then(fee => {/* ... */});
```

```json
{"fee":"0.0001"}
```
## getLedger

`getLedger(options: Object): Promise<Object>`

Returns header information for the specified ledger (or the most recent validated ledger if no ledger is specified). Optionally, all the transactions that were validated in the ledger or the account state information can be returned with the ledger header.

### Parameters

Name | Type | Description
---- | ---- | -----------
options | object | *Optional* Options affecting what ledger and how much data to return.
*options.* accounts | boolean | (Optional) Admin required. If true, return information on accounts in the ledger. Ignored if you did not specify a ledger version. Defaults to false. Caution: This returns a very large amount of data!
*options.* transactions | boolean | (Optional) If true, return information on transactions in the specified ledger version. Defaults to false. Ignored if you did not specify a ledger version.
*options.* expand | boolean |  	(Optional) Provide full JSON-formatted information for transaction/account information instead of only hashes. Defaults to false. Ignored unless you request transactions, accounts, or both.
*options.* ledgerIndex | integer | *Optional* Get ledger data for this historical ledger version.

### Return Value

This method returns a promise that resolves with an object with the following structure:

Name | Type | Description
---- | ---- | -----------
stateHash | string | Hash of all state information in this ledger.
closeTime | integer | The time this ledger was closed, in seconds since 2000-1-1,946684800 seconds after the Unix Epoch.
closeTimeHuman | date-time string | The time at which this ledger was closed.
closeTimeResolution | integer | Approximate number of seconds between closing one ledger version and closing the next one.
closeFlags | integer | A bit-map of flags relating to the closing of this ledger. Currently, the ledger has only one flag defined for `closeFlags`: **sLCF_NoConsensusTime** (value 1). If this flag is enabled, it means that validators were in conflict regarding the correct close time for the ledger, but built otherwise the same ledger, so they declared consensus while "agreeing to disagree" on the close time. In this case, the consensus ledger contains a `closeTime` value that is 1 second after that of the previous ledger. (In this case, there is no official close time, but the actual real-world close time is probably 3-6 seconds later than the specified `closeTime`.)
ledgerHash | string | Unique identifying hash of the entire ledger.
ledgerIndex | string | The ledger index of this ledger.
parentHash | string | Unique identifying hash of the ledger that came immediately before this one.
parentCloseTime | integer | The time at which the previous ledger was closed.
totalCoins | value | Total number of drops (1/1,000,000th of an SDA) in the network, as a quoted integer. (This decreases as transaction fees cause SDA to be destroyed.)
transactionHash | string | Hash of the transaction information included in this ledger.
transactionHashes | array\<string\> | *Optional* An array of hashes of all transactions that were validated in this ledger.
transactions | array | *Optional* Array of all transactions that were validated in this ledger. Transactions are represented in the same format as the return value of [getTransaction](#gettransaction).

### Example

```javascript
return api.getLedger()
  .then(ledger => {/* ... */});
```


```json
{
	"accepted": true,
	"accountHash": "0876D144ED7D7DA83F9D6ED06FF6938854A9C3DE7E8E00B35AB447B40D8F0419",
	"closeFlags": 0,
	"closeTime": 589021840,
	"closeTimeHuman": "2018-Aug-31 09:10:40",
	"closeTimeResolution": 10,
	"closed": true,
	"hash": "A037E21976DFDE84D082D579A4E0DB33F7B9DC3FEC6AD3A527763EA45BB09C8E",
	"ledgerHash": "A037E21976DFDE84D082D579A4E0DB33F7B9DC3FEC6AD3A527763EA45BB09C8E",
	"ledgerIndex": "617600",
	"parentCloseTime": 589021830,
	"parentHash": "7066C78FD03624C71C6E45EB3B9716ABF6D9736254C75A9B0BEBFE6ED0704F9D",
	"seqNum": "617600",
	"totalCoins": "1999999461742443",
	"transactionHash": "9DF93575DA16A982CF0CEBD51A695F2AB709B118F871A1CDAB1CFD13024CC46F",
	"transactions": [],
	"transactionsHashs": ["2661B1EF4D814B3468DE1542F296F1BE7E68B41B194DA86C11710DABF53711B2"]
}
```

## generateAddress

`generateAddress(): {address: string, secret: string}`

Generate a new SDA Ledger address and corresponding secret.

### Parameters

Name | Type | Description
---- | ---- | -----------
secret | string | *Optional* If provide the secret,can generate specified address and secret

### Return Value

This method returns an object with the following structure:

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | A randomly generated SDChain account address.
secret | secret string | The secret corresponding to the `address`.

### Example

```javascript
return api.generateAddress();
```


```json
 {
   "secret":"shy9a4gnhDp99okXfumLcH8pAMt8w","address":"6KDtGryjSs4rpNYkzKGN8aK971VtzuLJVu"
   }
```

## getAccountInfo

`getAccountInfo(address: string, options: Object): Promise<Object>`

Returns information for the specified account. Note: For account data that is modifiable by the user.

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account to get the account info of.

### Return Value

This method returns a promise that resolves with an object with the following structure:

Name | Type | Description
---- | ---- | -----------
sequence | [sequence](#account-sequence-number) | The next (smallest unused) sequence number for this account.
balance | [value](#value) | The SDA balance owned by the account.
ownerCount | integer | Number of other ledger entries (specifically, trust lines and offers) attributed to this account. This is used to calculate the total reserve required to use the account.
previousTxnID | string | *Optional* Hash value representing the most recent transaction that was initiated by this account.
previousTxnLgrSeq | integer | The ledger version that the transaction identified by the `previousTxnID` was validated in.
index | string | The current ledger hash.
ledgerCurrentIndex | integer | The current ledger index.


### Example

```javascript
const address = '6KySVnf6vxDtNeQAZUgpWWBdoMBcnyQmoq';
return api.getAccountInfo(address).then(info =>
  {/* ... */});
```


```json
{
	"account": "6KySVnf6vxDtNeQAZUgpWWBdoMBcnyQmoq",
	"balance": "200000000",
	"flags": 0,
	"ledgerEntryType": "AccountRoot",
	"ownerCount": 0,
	"previousTxnID": "B357C69531BD4DCB5F4247B62D2E04C054B8818A93BE817B6A00B8CFC5DD88D6",
	"previousTxnLgrSeq": 50,
	"sequence": 1,
	"index": "B5A10BC40EB453CBF9DE1CA94FB11E2434598C9DB2B05556FE0FDD510149DE5F",
	"ledgerCurrentIndex": 650416
}
```
## getTrustlines

`getTrustlines(address: string, options: Object): Promise<Array<Object>>`

Returns trustlines for a specified account.

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account to get trustlines for.
options | object | *Optional* Options to filter and determine which trustlines to return.
*options.* counterparty | [address](#address) | *Optional* Only return trustlines with this counterparty.
*options.* currency | [currency](#currency) | *Optional* Only return trustlines for this currency.
*options.* ledger | integer | *Optional* Return trustlines as they were in this historical ledger version.
*options.* limit | integer | *Optional* Return at most this many trustlines.

### Return Value

This method returns a promise that resolves with an array of objects with the following structure.

Name | Type | Description
---- | ---- | -----------
lines | array | Array of trust line objects, as described below. If the number of trust lines is large, only returns up to the limit at a time.
counterparty | address | Unique Address of the account this request corresponds to. This is the "perspective account" for purpose of the trust lines.
currency | string | A Currency Code identifying what currency this trust line can hold.
balance | string | Representation of the numeric balance currently held against this line. A positive balance means that the perspective account holds value; a negative balance means that the perspective account owes value.
limit | string | The maximum amount that the owner of the trustline can be owed through the trustline.
spread | boolean | If false, payments cannot spread through this trustline.
frozen | boolean | If true, the trustline is frozen, which means that funds can only be sent to the owner.
counterpartyLimit | [value](#value) | The maximum amount that the counterparty can be owed through the trustline.
counterpartyFrozen | boolean | If true, the trustline is frozen, which means that funds can only be sent to the counterparty.
counterpartySpread | boolean | If false, payments cannot spread through this trustline.

### Example

```javascript
const address = '6KySVnf6vxDtNeQAZUgpWWBdoMBcnyQmoq';
return api.getTrustlines(address).then(trustlines =>
  {/* ... */});
```


```json
{
	"lines": [{
		"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU",
		"currency": "CNY",
		"balance": "1000",
		"limit": "10000",
		"spread": true,
		"frozen": false,
		"counterpartyLimit": "0",
		"counterpartySpread": true,
		"counterpartyFrozen": false
	}, {
		"counterparty": "6J6MmEM2zV1DqVnvB55an2eYNtEzVSKZu7",
		"currency": "DUO",
		"balance": "1000.292066872863",
		"limit": "1100000",
		"spread": true,
		"frozen": false,
		"counterpartyLimit": "0",
		"counterpartySpread": true,
		"counterpartyFrozen": false
	}],
	"marker": "1E5B78D2CE448B9738D0C8639A3C289B1774028402E5FE219BD0F6AAC4479902"
}
```


## getBalances

`getBalances(address: string, options: Object): Promise<Array<Object>>`

Returns balances for a specified account.

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account to get balances for.
options | object | *Optional* Options to filter and determine which balances to return.
*options.* counterparty | [address](#address) | *Optional* Only return balances with this counterparty.
*options.* currency | [currency](#currency) | *Optional* Only return balances for this currency.
*options.* ledger | integer | *Optional* Return balances as they were in this historical ledger version.
*options.* limit | integer | *Optional* Return at most this many balances.

### Return Value

This method returns a promise that resolves with an array of objects with the following structure:

Name | Type | Description
---- | ---- | -----------
balances | array | Array of balances.
currency | [currency](#currency) | The character code or hexadecimal string used to denote currencies
counterparty | [address](#address) | *Optional* The SDChain address of the account that owes or is owed the funds.
value | [signedValue](#value) | The balance on the trustline

### Example

```javascript
const address = '6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx';
return api.getBalances(address).then(balances =>
  {/* ... */});
```


```json
{
	"account": "6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx",
	"balances": [{
		"currency": "SDA",
		"counterparty": "",
		"value": "2954.15419"
	}, {
		"currency": "CNY",
		"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU",
		"value": "1000"
	}, {
		"currency": "DUO",
		"counterparty": "6J6MmEM2zV1DqVnvB55an2eYNtEzVSKZu7",
		"value": "1000.292066872863"
	}],
	"marker": "1E5B78D2CE448B9738D0C8639A3C289B1774028402E5FE219BD0F6AAC4479902"
}
```
## getSettings

`getSettings(address: string, options: Object): Promise<Object>`

Returns settings for the specified account. Note: For account data that is not modifiable by the user, see [getAccountInfo](#getaccountinfo).

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account to get the settings of.
options | object | *Optional* Options that affect what to return.
*options.* ledger | integer | *Optional* Get the settings as of this historical ledger version.

### Return Value

This method returns a promise that resolves with an array of objects with the following structure (Note: all fields are optional as they will not be shown if they are set to their default value):

Name | Type | Description
---- | ---- | -----------
defaultSpread | boolean | *Optional* Enable spread on this account’s trust lines by default. 
domain | string | (Optional) A domain associated with this account.

### Example

```javascript
const address = '6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx';
return api.getSettings(address).then(settings =>
  {/* ... */});
```


```json
{
	"account": "6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx",
	"domain": "\"/\"",
	"flags": 8388608,
	"defaultSpread": true
}
```


## getTransaction

`getTransaction(id: string, options: Object): Promise<Object>`

Retrieves a transaction by its [Transaction ID](#transaction-id).

### Parameters

Name | Type | Description
---- | ---- | -----------
hash | [transactionHash](#transaction-id) | A hash of a transaction used to identify the transaction, represented in hexadecimal.

### Return Value

This method returns a promise that resolves with a transaction object containing the following fields.

Name | Type | Description
---- | ---- | -----------
hash |string | A hash of the transaction that can be used to identify it.
account | [address](#address) | The address of the account that initiated the transaction.
type | [transactionType](#transaction-types) | The type of the transaction.
date | long | The time of the transaction
fee | string| The fee of the transaction
ledger | integer | The ledger of the transaction 
result | string  | Result code returned by sdchaind.
changes | array | The changes in the ledger
*changes[].* source | address| The address of the source account
*changes[].* destination | address | The address of the destination account
*changes[].* amount | object | The amount object of the transaction 
*changes[].amount* currency | string |The currency of the amount
*changes[].amount* value | string |The value of the amount
*changes[].amount* issuer | address |The issuer of the amount
*changes[].* domain | string | The domain  in the accountset transaction
*changes[].* setFlag | integer | The seq  in the accountset transaction
*changes[].* seq | integer | The seq  in the offercreate transaction
*changes[].* price | string | The price  in the offercreate transaction
*changes[].* pair | string | The transaction pair  in the offercreate transaction
*changes[].* offerSeq | integer | The deleted seq  in the offercancel transaction

### Example

```javascript
const id = '01CDEAA89BF99D97DFD47F79A0477E1DCC0989D39F70E8AACBFE68CC83BD1E94';
return api.getTransaction(id).then(transaction => {
  /* ... */
});
```


```json
{
  "type": "payment",
  "address": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
  "sequence": 4,
  "id": "F4AB442A6D4CBB935D66E1DA7309A5FC71C7143ED4049053EC14E3875B0CF9BF",
  "specification": {
    "source": {
      "address": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
      "maxAmount": {
        "currency": "SDA",
        "value": "1.112209"
      }
    },
    "destination": {
      "address": "rMH4UxPrbuMa1spCBR98hLLyNJp4d8p4tM"
    },
    "paths": "[[{\"currency\":\"USD\",\"issuer\":\"rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo\",\"type\":48,\"type_hex\":\"0000000000000030\"},{\"account\":\"rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo\",\"currency\":\"USD\",\"issuer\":\"rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo\",\"type\":49,\"type_hex\":\"0000000000000031\"}]]"
  },
  "outcome": {
    "result": "tesSUCCESS",
    "timestamp": "2013-03-12T23:56:50.000Z",
    "fee": "0.00001",
    "deliveredAmount": {
      "currency": "USD",
      "value": "0.001",
      "counterparty": "rMH4UxPrbuMa1spCBR98hLLyNJp4d8p4tM"
    },
    "balanceChanges": {
      "rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo": [
        {
          "counterparty": "rMH4UxPrbuMa1spCBR98hLLyNJp4d8p4tM",
          "currency": "USD",
          "value": "-0.001"
        },
        {
          "counterparty": "r9tGqzZgKxVFvzKFdUqXAqTzazWBUia8Qr",
          "currency": "USD",
          "value": "0.001002"
        }
      ],
      "rMH4UxPrbuMa1spCBR98hLLyNJp4d8p4tM": [
        {
          "counterparty": "rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo",
          "currency": "USD",
          "value": "0.001"
        }
      ],
      "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59": [
        {
          "currency": "SDA",
          "value": "-1.101208"
        }
      ],
      "r9tGqzZgKxVFvzKFdUqXAqTzazWBUia8Qr": [
        {
          "currency": "SDA",
          "value": "1.101198"
        },
        {
          "counterparty": "rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo",
          "currency": "USD",
          "value": "-0.001002"
        }
      ]
    },
    "orderbookChanges": {
      "r9tGqzZgKxVFvzKFdUqXAqTzazWBUia8Qr": [
        {
          "direction": "buy",
          "quantity": {
            "currency": "SDA",
            "value": "1.101198"
          },
          "totalPrice": {
            "currency": "USD",
            "counterparty": "rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo",
            "value": "0.001002"
          },
          "makerExchangeRate": "1099",
          "sequence": 58,
          "status": "partially-filled"
        }
      ]
    },
    "ledgerVersion": 348860,
    "indexInLedger": 0
  }
}
```
## getTransactions

`getTransactions(address: string, options: Object): Promise<Array<Object>>`

Retrieves historical transactions of an account.

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account to get transactions for.
options | object | *Optional* Options to filter the resulting transactions.
*options.* limit | integer | *Optional* If specified, return at most this many transactions.
*options.* ledgerIndexMAX | integer | *Optional* Return only transactions in this ledger version or lower.
*options.* ledgerIndexMin | integer | *Optional* Return only transactions in this ledger verion or higher.
*options.* marker |object | *Optional* Value from a previous paginated response. Resume retrieving data where that response left off. This value is stable even if there is a change in the server's range of available ledgers.

### Return Value

This method returns a promise that resolves with an array of transaction object in the same format as [getTransaction](#gettransaction).

### Example

```javascript
const address = '6UPd52jHtu1d88nc3S3WeroACFQpKfybhU';
return api.getTransactions(address).then(transaction => {
  /* ... */
});
```


```json
{
	"transactions": [{
		"hash": "41CADF842BC759CE13C759BA7D73FC24645184B06E29D5749D79148E76A2B96C",
		"account": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU",
		"type": "Payment",
		"date": 1539770550,
		"fee": "0.0001",
		"ledger": 1023101,
		"result": "tesSUCCESS",
		"changes": [{
			"source": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU",
			"destination": "6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx",
			"amount": {
				"currency": "DUDO",
				"value": "1",
				"issuer": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
			}
		}]
	}, {
		"hash": "60573E27AA5C7ADD523CC7CCD70F8D62DA3A6D569C422B7DE1EAB311A66D9F12",
		"account": "6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx",
		"type": "Payment",
		"date": 1539770320,
		"fee": "0.0001",
		"ledger": 1023078,
		"result": "tecPATH_DRY",
		"changes": [{
			"source": "6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx",
			"destination": "6PKbrbSLKRmgb5nqqGP3hxWBj6o2ufZrTt",
			"amount": {
				"currency": "000000000000000000000000434E444400000000",
				"value": "111",
				"issuer": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
			}
		}]
	}],
	"marker": {
		"ledger": 1023077,
		"seq": 0
	}
}
```
## getOrders

`getOrders(address: string, options: Object): Promise<Array<Object>>`

Returns open orders for the specified account. Open orders are orders that have not yet been fully executed and are still in the order book.

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The SDChain address of the account to get open orders for.
options | object | *Optional* Options that determine what orders will be returned.
*options.* limit | integer | *Optional* At most this many orders will be returned.

### Return Value

This method returns a promise that resolves with an array of objects with the following structure:

Name | Type | Description
---- | ---- | -----------
direction | string | Equal to "buy" for buy orders and "sell" for sell orders.
quantity | amount |  	The amount of currency to buy or sell.
totalPrice | amount| The total price to be paid for the quantity to be bought or sold.
passive |passive| Optional If enabled, the offer will not consume offers that exactly match it, and instead becomes an Offer node in the ledger. It will still consume offers that cross it.
sequence|integer | The account sequence number of the transaction that created this order.
marker|string | The next page's marker

### Example

```javascript
const address = '6M5F6qeCQBxSQQeoKdCPURq4sNFgZeFD5Y';
return api.getOrders(address).then(orders =>
  {/* ... */});
```


```json
{
	"order": [{
		"direction": "buy",
		"quantity": {
			"currency": "CNY",
			"value": "5.1",
			"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
		},
		"totalPrice": {
			"currency": "SDA",
			"value": "1.632",
			"counterparty": ""
		},
		"sequence": 11
	}],
	"marker": "81D7B3CDFDDEA09ABF74CD0F44D73DCB4A3148EB81D8300DA9E43AE604285CF0"
}
```

## getOrderbook

`getOrderbook(address: string, orderbook: Object, options: Object): Promise<Object>`

Returns open orders for the specified account. Open orders are orders that have not yet been fully executed and are still in the order book.

### Parameters

Name | Type | Description
---- | ---- | -----------
base | object | A currency-counterparty pair, or just currency if it's SDA
counter | object | A currency-counterparty pair, or just currency if it's SDA
options | object | *Optional* Options to determine what to return.
*options.* address | [address](#address) | Address of an account to use as point-of-view. (This affects which unfunded offers are returned.)
*options.* ledger | integer | *Optional* Return the order book as of this historical ledger version.
*options.* limit | integer | *Optional* Return at most this many orders from the order book.

### Return Value

This method returns a promise that resolves with an object with the following structure (Note: the structures of `bids` and `asks` are identical):

Name | Type | Description
---- | ---- | -----------
maker | address |  The address of the account that submitted the order.
totalPrice | amount |The total price to be paid for the quantity to be bought or sold.
fundedAmount | [amount](#amount) | How much of the amount the maker would have to pay that the maker currently holds.
priceOfFundedAmount | [amount](#amount) | How much the `fundedAmount` would convert to through the exchange rate of this order.
sequence | [sequence](#account-sequence-number) | The account sequence number of the transaction that created this order.
quality | [value](#value) | The exchange rate, as the ratio quantity divided by totalPrice. 


### Example

```javascript
const options = {
    limit: 2
}
const base = {
    currency: 'SDA'
  },
  counter = {
    currency: 'CNY',
    issuer: '6UPd52jHtu1d88nc3S3WeroACFQpKfybhU'
}
return api.getOrderbook(base,counter,options)
  .then(orderbook => {/* ... */});
```


```json
[{
	"maker": "69zJ4qs2ShiQJTG5pk366RbwkmKWtsnEJK",
	"quantity": {
		"currency": "CNY",
		"value": "2",
		"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
	},
	"totalPrice": {
		"currency": "SDA",
		"value": "0.6",
		"counterparty": ""
	},
	"fundedAmount": {
		"currency": "CNY",
		"value": "2",
		"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
	},
	"priceOfFundedAmount": {
		"currency": "SDA",
		"value": "0.6",
		"counterparty": ""
	},
	"sequence": 23,
	"quality": "3.33333333333333333333"
}, {
	"maker": "69zJ4qs2ShiQJTG5pk366RbwkmKWtsnEJK",
	"quantity": {
		"currency": "CNY",
		"value": "4",
		"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
	},
	"totalPrice": {
		"currency": "SDA",
		"value": "1.2",
		"counterparty": ""
	},
	"fundedAmount": {
		"currency": "CNY",
		"value": "4",
		"counterparty": "6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"
	},
	"priceOfFundedAmount": {
		"currency": "SDA",
		"value": "1.2",
		"counterparty": ""
	},
	"sequence": 24,
	"quality": "3.33333333333333333333"
}]
```














## preparePayment

`preparePayment(address: string, payment: Object, instructions: Object): Promise<Object>`

Prepare a payment transaction. The prepared transaction must subsequently be [signed](#sign) and [submitted](#submit).

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account that is creating the transaction.
options | object | The specification of the payment to prepare.
options.amount |amount | 	The amount of currency to deliver.  
options.destination |address | The unique address of the account receiving the payment.
options.destinationTag |integer | (Optional) Arbitrary tag that identifies the reason for the payment to the destination, or a hosted recipient to pay.
options.fee |double | (Optional)The fee of the payment

### Return Value

This method returns a promise that resolves with an object with the following structure:

<aside class="notice">
All "prepare*" methods have the same return type.
</aside>

Name | Type | Description
---- | ---- | -----------
txJSON | string | The prepared transaction in sdchaind JSON format.

### Example

```javascript
const address = '6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx';
const amount = {
    value:'1',
    currency: 'CNY',
    issuer: '6UPd52jHtu1d88nc3S3WeroACFQpKfybhU'
}
const memos = [
	{
		memoType = 'name',
		memoDate = '为'
	}
]
const paymentJson = {
  destination:account1.address,
  amount:amount,
  fee:0.001
}
paymentJson.memos = memos
return api.preparePayment(address, paymentJson).then(prepared =>
  {/* ... */});
```


```json
{
  "txJSON": "{\"Flags\":2147483648,\"TransactionType\":\"Payment\",\"Account\":\"r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59\",\"Destination\":\"rpZc4mVfWUif9CRoHRKKcmhu1nx2xktxBo\",\"Amount\":{\"value\":\"0.01\",\"currency\":\"USD\",\"issuer\":\"rMH4UxPrbuMa1spCBR98hLLyNJp4d8p4tM\"},\"SendMax\":{\"value\":\"0.01\",\"currency\":\"USD\",\"issuer\":\"rMH4UxPrbuMa1spCBR98hLLyNJp4d8p4tM\"},\"LastLedgerSequence\":8820051,\"Fee\":\"12\",\"Sequence\":23}",
  "instructions": {
    "fee": "0.000012",
    "sequence": 23,
    "maxLedgerVersion": 8820051
  }
}
```


## prepareTrustline

`prepareTrustline(address: string, trustline: Object, instructions: Object): Promise<Object>`

Prepare a trustline transaction. The prepared transaction must subsequently be [signed](#sign) and [submitted](#submit).

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account that is creating the transaction.
options | object | The specification of the payment to prepare.
options.amount |amount | 	The amount of currency to deliver.  
options.fee |double | (Optional)The fee of the payment


### Return Value

This method returns a promise that resolves with an object with the following structure:

<aside class="notice">
All "prepare*" methods have the same return type.
</aside>

Name | Type | Description
---- | ---- | -----------
txJSON | string | The prepared transaction in sdchaind JSON format.

### Example

```javascript
const address = '6PKbrbSLKRmgb5nqqGP3hxWBj6o2ufZrTt';
const limitAmount = {
  value: '10000',
  currency: 'CNY',
  issuer: '6UPd52jHtu1d88nc3S3WeroACFQpKfybhU'
}
const trustlineJson = {
  amount: limitAmount,
  spread: true,
  fee: 0.001
}
return api.prepareTrustline(address, trustlineJson).then(prepared =>
  {/* ... */});
```


```json
{"txJson":{"TransactionType":"TrustSet","Flags":262144,"Account":"6PKbrbSLKRmgb5nqqGP3hxWBj6o2ufZrTt","LimitAmount":{"value":"10000","currency":"CNY","issuer":"6UPd52jHtu1d88nc3S3WeroACFQpKfybhU"},"LastLedgerSequence":702264,"Fee":"1000","Sequence":1008}}
```


## prepareOrder

`prepareOrder(address: string, order: Object, instructions: Object): Promise<Object>`

Prepare an order transaction. The prepared transaction must subsequently be [signed](#sign) and [submitted](#submit).

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account that is creating the transaction.
options | object | The specification of the order to prepare.
options.direction |string | Equal to "buy" for buy orders and "sell" for sell orders.
options.quantity |amount | The amount of currency to buy or sell.
options.totalPrice |amount | The total price to be paid for the quantity to be bought or sold.
### Return Value

This method returns a promise that resolves with an object with the following structure:

<aside class="notice">
All "prepare*" methods have the same return type.
</aside>

Name | Type | Description
---- | ---- | -----------
txJSON | string | The prepared transaction in sdchaind JSON format.

### Example

```javascript
const address = '6PKbrbSLKRmgb5nqqGP3hxWBj6o2ufZrTt';

const quantity = {
  value: '20',
  currency: 'SDA',
  issuer: ''
}
const totalPrice = {
  value: '1000',
  currency: 'CNY',
  issuer: '6UPd52jHtu1d88nc3S3WeroACFQpKfybhU'
}

const orderJson = {
  direction:'sell',
  quantity: quantity,
  totalPrice: totalPrice,
  fee: 0.001
}
return api.prepareOrder(address, order)
  .then(prepared => {/* ... */});
```


```json
{
  "txJSON": "{\"Flags\":2145792,\"TransactionType\":\"OfferCreate\",\"Account\":\"6PKbrbSLKRmgb5nqqGP3hxWBj6o2ufZrTt\",\"TakerGets\":\"2000000\",\"TakerPays\":{\"value\":\"1000\",\"currency\":\"CNY\",\"issuer\":\"6UPd52jHtu1d88nc3S3WeroACFQpKfybhU\"},\"LastLedgerSequence\":8819954,\"Fee\":\"100\",\"Sequence\":23}"
}
```


## prepareOrderCancellation

`prepareOrderCancellation(address: string, orderCancellation: Object, instructions: Object): Promise<Object>`

Prepare an order cancellation transaction. The prepared transaction must subsequently be [signed](#sign) and [submitted](#submit).

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account that is creating the transaction.
orderCancellation | [orderCancellation](#order-cancellation) | The specification of the order cancellation to prepare.
instructions | [instructions](#transaction-instructions) | *Optional* Instructions for executing the transaction

### Return Value

This method returns a promise that resolves with an object with the following structure:

<aside class="notice">
All "prepare*" methods have the same return type.
</aside>

Name | Type | Description
---- | ---- | -----------
txJSON | string | The prepared transaction in sdchaind JSON format.

### Example

```javascript
const address = '6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx';
const orderCancelJson = {offerSequence: 7024};
return api.prepareOrderCancellation(address, orderCancelJson)
  .then(prepared => {/* ... */});
```


```json
 {
   "txJson":"{\"TransactionType\":\"OfferCancel\",\"Account\":\"6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx\",\"OfferSequence\":7023,\"LastLedgerSequence\":719343,\"Fee\":\"100\",\"Sequence\":7024}"
   }
  
```


## prepareSettings

`prepareSettings(address: string, settings: Object, instructions: Object): Promise<Object>`

Prepare a settings transaction. The prepared transaction must subsequently be [signed](#sign) and [submitted](#submit).

### Parameters

Name | Type | Description
---- | ---- | -----------
address | [address](#address) | The address of the account that is creating the transaction.
options | object | The specification of the settings to prepare.
options.defaultSpread | boolean| *Optional* Enable spread on this account’s trust lines by default. 
options.domain | string | *Optional* The domain that owns this account, as a hexadecimal string representing the ASCII for the domain in lowercase.
### Return Value

This method returns a promise that resolves with an object with the following structure:

<aside class="notice">
All "prepare*" methods have the same return type.
</aside>

Name | Type | Description
---- | ---- | -----------
txJSON | string | The prepared transaction in sdchaind JSON format.

### Example

```javascript
const address = '69cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59';
const settings = {
  "domain": "F",
  "defaultSpread":false
  
};
return api.prepareSettings(address, settings)
  .then(prepared => {/* ... */});
```


```json
 {
   "txJson":"{\"TransactionType\":\"AccountSet\",\"Flags\":0,\"Account\":\"6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx\",\"ClearFlag\":8,\"Domain\":\"E4B8ADE59BBD\",\"LastLedgerSequence\":720137,\"Fee\":\"100\",\"Sequence\":7027}"
}
```




## sign

```
sign(txJSON: string, secret: string, options: Object): {signedTransaction: string, id: string}
sign(txJSON: string, keypair: Object, options: Object): {signedTransaction: string, id: string}
```

Sign a prepared transaction. The signed transaction must subsequently be [submitted](#submit).

### Parameters

Name | Type | Description
---- | ---- | -----------
txJSON | string | Transaction represented as a JSON string in sdchaind format.
secret | secret string |  The secret of the account that is initiating the transaction. 

### Return Value

This method returns an object with the following structure:

Name | Type | Description
---- | ---- | -----------
signedTransaction | string | The signed transaction represented as an uppercase hexadecimal string.
hash | string | The hash of the signed transaction.

### Example

```javascript
const txJSON = "{\"TransactionType\":\"Payment\",\"Account\":\"6GiohV7XVhabbtV1DfKjWEyikeyimiDSNx\",\"Destination\":\"6PKbrbSLKRmgb5nqqGP3hxWBj6o2ufZrTt\",\"Amount\":{\"value\":\"1\",\"currency\":\"DUO\",\"issuer\":\"6J6MmEM2zV1DqVnvB55an2eYNtEzVSKZu7\"},\"LastLedgerSequence\":702051,\"Fee\":\"1000\",\"Sequence\":7012}";
const secret = 'shsWGZcmZz6YsWWmcnpfr6fLTdtFV';
return api.sign(txJSON, secret); 
```


```json
{
  "signedTransaction": "1200002400001B64201B000AB66361D4838D7EA4C6800000000000000000000000000044554F0000000000BA8B7866400F7F988FCE29407A6AEA9B44B450A76840000000000003E8732102E2982FD91D92E8E765961BB3E543869DA6A6905CDD58C3C1B1F8732B216ABADA74463044022072ED68B61C46B8E41A6C07641D8DAE8CEBDF765C3277C88BEA0720133E3296C802203E2028887F30E8BDC4DEDEEE4D93E6CE24348E6DDA810288264BFEEFBEAB388F8114ADF4B7CE6C8A91A10B720B058352DC24695DD0298314F4D738770B2485E607A03BF98DF047344C8D7FB7",
  "id": "8D824F1461449DDE1B0FCD0086817D05A14ABB4FDA103EF5AE85EBBB16B0EE66"
}
```

## submit

`submit(signedTransaction: string): Promise<Object>`

Submits a signed transaction. The transaction is not guaranteed to succeed; it must be verified with [getTransaction](#gettransaction).

### Parameters

Name | Type | Description
---- | ---- | -----------
signedTransaction | string | A signed transaction as returned by [sign](#sign).

### Return Value

This method returns an object with the following structure:

Name | Type | Description
---- | ---- | -----------
hash | string | The result hash returned by sdchaind
resultType | string | The result type returned by sdchaind
resultMessage | string | Human-readable explanation of the status of the transaction.

### Example

```javascript
const signedTransaction = '1200002400001B65201B000AB67E61D4838D7EA4C6800000000000000000000000000044554F0000000000BA8B7866400F7F988FCE29407A6AEA9B44B450A76840000000000003E8732102E2982FD91D92E8E765961BB3E543869DA6A6905CDD58C3C1B1F8732B216ABADA74473045022100A0F074A3D118961D607F87F5EB105917BADE2723B6047AA3CD4EF602A7ECD82802202DD6EFF5F39AA89F948EEA42DA59E8D10BEFAE70615ADEC3CFA8E624392D407E8114ADF4B7CE6C8A91A10B720B058352DC24695DD0298314F4D738770B2485E607A03BF98DF047344C8D7FB7';
return api.submit(signedTransaction)
  .then(result => {/* ... */});
```


```json
{ "hash":"8E624392D407E8114ADF4B7CE6C8A91A10B720B0583",
  "resultType": "tesSUCCESS",
  "resultMessage": "The transaction was applied. Only final in a validated ledger."
}
```




